# 프록시 모니터링 & 정책 관리 시스템 PRD
## 1. 개요

### 1.1 목적
- 프록시 서버 그룹 단위로 관리
- 프록시 서버의 자원 사용률 실시간 모니터링 
- 프록시 정책 관리 및 검색 기능 제공

### 1.2 대상 사용자
- 프록시 서버 관리자
- 보안 정책 관리자
- 시스템 모니터링 담당자

## 2. 핵심 기능 요구사항

### 2.1 프록시 그룹 관리
- 하나의 목적 그룹에 Main Appliance와 Cluster Appliances 구성
- 프록시 서버 정보 CRUD 기능
  - 서버 기본 정보 (IP, 포트, 설명)
  - SSH/SNMP 접속 정보
  - 그룹 할당 정보
- 그룹 내 프록시 구성 관리
  - Main Appliance: 정책 관리 주체
  - Cluster Appliances: Main Appliance와 동일 정책 적용

### 2.2 자원 모니터링
- 모든 Appliance 대상 모니터링
  - CPU 사용률
  - 메모리 사용률
  - 디스크 사용률
  - 네트워크 트래픽
- 실시간 대시보드
  - 프록시 별 자원 사용률 표시
  - 임계치 초과 항목 강조
  - 시계열 그래프 제공
- 임계치 관리
  - 메트릭별 임계치 설정
  - 임계치 초과 시 강조

### 2.3 세션 모니터링
- 세션 정보 실시간 조회
  - 현재 활성 세션 수
  - 세션별 상세 정보
- 세션 검색 기능
  - Client IP 기반 검색
  - User Name 기반 검색
  - URL 기반 검색
- 세션 통계
  - Client IP 세션 현황
  - Url 별 세션 현황
  - Proxy IP 별 세션 현황

### 2.4 정책 관리
- Main Appliance 그룹 단위 정책 관리
  - 정책 동기화
  - 정책 업데이트 이력 관리
- 정책 검색 기능
  - 정책 이름 검색
  - 정책 내용 검색
  - 조건식 기반 검색
- 정책 필터링
  - 동적으로 필터링
- 정책 데이터 추출
  - 엑셀 추출

## 3. 기술 요구사항

### 3.1 백엔드
- Flask 기반 RESTful API
- 모듈화된 구조
  - monitoring_module
  - policy_module
  - ppat_db
- 데이터베이스
  - SQLite

### 3.2 프론트엔드
- 반응형 웹 디자인
- 미니멀 디자인
- 실시간 데이터 업데이트
- 대시보드 컴포넌트
- 데이터 시각화

### 3.3 인터페이스
- RESTful API
- WebSocket (실시간 모니터링)
- SSH/SNMP (프록시 연동)


---
여기서부턴 중요하진 않음
## 4. 성능 요구사항

### 4.1 응답 시간
- API 응답: 1초 이내
- 대시보드 갱신: 5초 이내
- 정책 검색: 3초 이내

### 4.2 동시 접속
- 최대 50명 동시 접속 지원
- 초당 100건 API 요청 처리

### 4.3 데이터 처리
- 최대 100대 프록시 서버 동시 모니터링
- 초당 1000건 세션 데이터 처리
- 최대 100만건 정책 데이터 관리

## 5. 보안 요구사항

### 5.1 인증/인가
- 사용자 인증 필수
- 역할 기반 접근 제어
- API 키 인증 지원

### 5.2 데이터 보안
- 민감 정보 암호화 저장
- 통신 구간 SSL/TLS 적용
- 접근 로그 기록

### 5.3 감사
- 사용자 활동 로깅
- 시스템 변경 이력 관리
- 정책 변경 감사

## 6. 확장성 요구사항

### 6.1 시스템 확장
- 모듈 단위 확장 가능
- 새로운 모니터링 메트릭 추가 용이
- 새로운 정책 타입 지원 가능

### 6.2 인터페이스 확장
- 새로운 API 엔드포인트 추가 용이
- 다양한 클라이언트 지원
- 써드파티 통합 지원

## 7. 유지보수 요구사항

### 7.1 로깅
- 상세한 시스템 로그
- 에러 로그 관리
- 성능 메트릭 로깅

### 7.2 모니터링
- 시스템 상태 모니터링
- 성능 모니터링
- 리소스 사용량 모니터링

### 7.3 백업/복구
- 정기적인 데이터 백업
- 설정 백업
- 빠른 복구 지원 